<?php

// This is the global social_mediator module. Information that's specific to a individual social network should not be inside this file. 
// This module is shared amongst all the subthemes. 

// need an admin page so that the sub modules have a place to live. 

function social_mediator_menu()
{
  $menu['admin/social'] = array
  (
    'title' => 'Social Mediator',
    'page callback' => '_social_mediator_admin_page',
    'access callback' => TRUE,
  );
  return $menu;
}

// set up global social_mediator permissions.


function _social_mediator_admin_page() {
//  $content = array('Here is the admin landing page for the global social mediator.');

//  $output = '';
//  foreach($content as $c)
//  {
//    $output .= '<p>' . $c . '</p>';
//  }
//  return $output;

$form = array();


  $form['consumer_key'] = array(
    '#type' => 'text',
    '#title' => t('Consumer Key'),
    '#description' => t('Enter your Consumer Key'),
  );

  $form['consumer_secret'] = array(
    '#type' => 'text',
    '#title' => t('Secret Key'),
    '#description' => t('Enter your Secret Key'),
  );

 $form['oauth_access_token'] = array(
    '#type' => 'text',
    '#title' => t('OAuth Access Token'),
    '#description' => t('Enter your OAuth Access Token'),
  );

  $form['oauth_access_token_secret'] = array(
    '#type' => 'text',
    '#title' => t('OAuth Access Token'),
    '#description' => t('Enter your OAuth Access Secret Token'),
  );

  return system_settings_form($form);

}

// need _function to handle import. This will happen on any imports.

function _social_mediator_import()
{
  module_invoke_all('social_mediator_import', $content);

  
}

// need hook_cron so that imports happen on cron.